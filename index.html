<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multiple Lab — 기업가치 계산기 v4.5</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <!-- 선택: 간단 바 차트용 Chart.js (있어도 되고 없어도 됨) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="ml-header">
    <div class="ml-container ml-header-inner">
      <div class="ml-logo">
        <span class="ml-logo-main">Multiple Lab</span>
        <span class="ml-logo-sub">기업가치 계산기 v4.5</span>
      </div>
      <nav class="ml-nav">
        <a href="#calculator">계산기</a>
        <a href="#about">설명</a>
        <a href="#contact">문의</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="ml-hero">
      <div class="ml-container ml-hero-inner">
        <div class="ml-hero-text">
          <h1>기업가치, 30초 만에 밴딩으로 확인해보세요.</h1>
          <p>
            상장사 멀티플과 간단한 룰북을 기반으로<br />
            비금융·금융 기업의 대략적인 가치 밴딩을 계산합니다.
          </p>
          <div class="ml-hero-actions">
            <a href="#calculator" class="ml-btn ml-btn-primary">바로 계산하기</a>
            <a href="#about" class="ml-btn ml-btn-secondary">설명 보기</a>
          </div>
        </div>
        <div class="ml-hero-preview">
          <div class="ml-card-preview">
            <div class="ml-card-preview-title">Base Case</div>
            <div class="ml-card-preview-value">1,400억 원</div>
            <div class="ml-card-preview-sub">EV/EBITDA 7.0배 기준</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Calculator -->
    <section id="calculator" class="ml-section">
      <div class="ml-container">
        <h2>기업가치 계산기</h2>
        <p class="ml-section-subtitle">
          아래 정보를 입력하면 Low / Base / High 밴딩으로 기업가치를 보여줍니다.
        </p>

        <form id="valuationForm" class="ml-form">
          <!-- Step 1: 기본 설정 -->
          <div class="ml-form-section">
            <h3>Step 1. 기본 설정</h3>
            <div class="ml-grid-3">
              <div class="ml-form-field">
                <label>모드 선택</label>
                <div class="ml-radio-group">
                  <label>
                    <input type="radio" name="mode" value="nonfs" checked />
                    비금융 (Non-FS)
                  </label>
                  <label>
                    <input type="radio" name="mode" value="fs" />
                    금융 (FS)
                  </label>
                </div>
              </div>

              <div class="ml-form-field">
                <label for="industry">산업 (업종)</label>
                <select id="industry">
                  <option value="it_internet">IT / 인터넷</option>
                  <option value="consumer">소비재</option>
                  <option value="manufacturing">제조</option>
                  <option value="game_ent">게임 / 엔터</option>
                  <option value="bank">은행</option>
                  <option value="leasing">리스 / 여전사</option>
                  <option value="other">기타</option>
                </select>
              </div>

              <div class="ml-form-field">
                <label for="country">국가 / 지역</label>
                <select id="country">
                  <option value="kr">대한민국</option>
                  <option value="vn">베트남</option>
                  <option value="id">인도네시아</option>
                  <option value="apac">기타 APAC</option>
                  <option value="other">기타</option>
                </select>
              </div>

              <div class="ml-form-field">
                <label for="currency">통화 표시</label>
                <select id="currency">
                  <option value="KRW" selected>KRW (억 원 기준)</option>
                  <option value="USD">USD (백만달러 등)</option>
                  <option value="VND">VND</option>
                  <option value="IDR">IDR</option>
                </select>
              </div>

              <div class="ml-form-field">
                <label for="year">기준 연도 (선택)</label>
                <input type="number" id="year" placeholder="예: 2024" />
              </div>
            </div>
          </div>

          <!-- Step 2: 재무 입력 -->
          <div class="ml-form-section">
            <h3>Step 2. 재무 입력</h3>

            <!-- 비금융 전용 -->
            <div id="nonfsFields" class="ml-grid-3">
              <div class="ml-form-field">
                <label for="sales">매출액 (Sales)</label>
                <input type="number" id="sales" min="0" step="0.1" placeholder="단위: 억 원" />
              </div>
              <div class="ml-form-field">
                <label for="ebitda">EBITDA</label>
                <input type="number" id="ebitda" min="0" step="0.1" placeholder="단위: 억 원" />
              </div>
              <div class="ml-form-field">
                <label for="netIncome">순이익 (선택)</label>
                <input type="number" id="netIncome" step="0.1" placeholder="단위: 억 원" />
              </div>
              <div class="ml-form-field">
                <label for="debt">차입금 총액</label>
                <input type="number" id="debt" min="0" step="0.1" placeholder="단위: 억 원" />
              </div>
              <div class="ml-form-field">
                <label for="cash">현금 및 현금성자산</label>
                <input type="number" id="cash" min="0" step="0.1" placeholder="단위: 억 원" />
              </div>
            </div>

            <!-- 금융 전용 -->
            <div id="fsFields" class="ml-grid-3 ml-hidden">
              <div class="ml-form-field">
                <label for="equityBook">자기자본 (Book Value)</label>
                <input type="number" id="equityBook" min="0" step="0.1" placeholder="단위: 억 원" />
              </div>
              <div class="ml-form-field">
                <label for="netIncomeFs">당기순이익</label>
                <input type="number" id="netIncomeFs" min="0" step="0.1" placeholder="단위: 억 원" />
              </div>
              <div class="ml-form-field">
                <label for="roe">ROE (선택)</label>
                <input type="number" id="roe" step="0.1" placeholder="% 단위 (예: 12.5)" />
              </div>
            </div>
          </div>

          <!-- Step 3: 옵션 -->
          <div class="ml-form-section">
            <h3>Step 3. 옵션 / 플래그</h3>
            <div class="ml-grid-3">
              <div class="ml-form-field">
                <label>비상장사 여부</label>
                <div class="ml-checkbox-group">
                  <label>
                    <input type="checkbox" id="isPrivate" />
                    비상장사입니다 (비상장 할인 적용)
                  </label>
                </div>
              </div>

              <div class="ml-form-field">
                <label for="sizeBucket">규모 (Size)</label>
                <select id="sizeBucket">
                  <option value="small">소형</option>
                  <option value="mid" selected>중형</option>
                  <option value="large">대형</option>
                </select>
              </div>

              <div class="ml-form-field">
                <label for="growthScore">
                  성장 / 리레이팅 스코어
                  <span class="ml-label-sub">(-2 ~ +2)</span>
                </label>
                <input
                  type="range"
                  id="growthScore"
                  min="-2"
                  max="2"
                  step="1"
                  value="0"
                />
                <div class="ml-range-labels">
                  <span>-2 저성장</span>
                  <span>0 보통</span>
                  <span>+2 고성장</span>
                </div>
              </div>

              <div class="ml-form-field ml-only-fs">
                <label>
                  <input type="checkbox" id="highRiskFlag" />
                  금융사: 리스크 높은 포트폴리오입니다
                </label>
                <p class="ml-help-text">
                  체크 시 PBR 밴드가 보수적으로 조정됩니다.
                </p>
              </div>
            </div>
          </div>

          <div class="ml-form-actions">
            <button type="submit" class="ml-btn ml-btn-primary">
              기업가치 계산하기
            </button>
            <div id="errorBox" class="ml-error-box ml-hidden"></div>
          </div>
        </form>

        <!-- 결과 영역 -->
        <section id="resultsSection" class="ml-results ml-hidden">
          <h3>결과 요약</h3>

          <div class="ml-result-cards">
            <div class="ml-result-card" id="cardLow">
              <div class="ml-result-label">Low Case</div>
              <div class="ml-result-value" id="lowEquityValue">-</div>
              <div class="ml-result-sub" id="lowDesc">-</div>
            </div>
            <div class="ml-result-card ml-result-card-main" id="cardBase">
              <div class="ml-result-label">Base Case</div>
              <div class="ml-result-value" id="baseEquityValue">-</div>
              <div class="ml-result-sub" id="baseDesc">-</div>
            </div>
            <div class="ml-result-card" id="cardHigh">
              <div class="ml-result-label">High Case</div>
              <div class="ml-result-value" id="highEquityValue">-</div>
              <div class="ml-result-sub" id="highDesc">-</div>
            </div>
          </div>

          <div class="ml-result-table-wrapper">
            <h4>세부 내역</h4>
            <table class="ml-table">
              <thead>
                <tr>
                  <th>케이스</th>
                  <th>적용 멀티플</th>
                  <th>기준 지표</th>
                  <th>EV (기업가치)</th>
                  <th>Equity Value</th>
                  <th>비고</th>
                </tr>
              </thead>
              <tbody id="resultTableBody">
                <!-- JS에서 생성 -->
              </tbody>
            </table>
          </div>

          <div class="ml-chart-wrapper">
            <canvas id="valueChart"></canvas>
          </div>

          <div class="ml-disclaimer">
            ※ 본 계산기는 상장사 멀티플과 간단한 룰을 기반으로 한 대략적인 밴딩을 제공합니다.
            실제 투자/거래 의사결정 시에는 별도의 정교한 밸류에이션이 필요합니다.
          </div>
        </section>
      </div>
    </section>

    <!-- About / 설명 -->
    <section id="about" class="ml-section ml-section-alt">
      <div class="ml-container">
        <h2>이 계산기는 어떻게 작동하나요?</h2>
        <p>
          Multiple Lab은 업종·국가·규모·성장성 등을 간단한 스코어로 정리하여,<br />
          상장사 멀티플 밴드(Low / Base / High)를 적용하는 구조로 설계되어 있습니다.
        </p>
        <ul class="ml-about-list">
          <li>비금융: 주로 EV/EBITDA 중심으로 밴딩</li>
          <li>금융: PBR / PER 위주의 밴딩</li>
          <li>비상장사 여부, 규모, 성장 스토리에 따라 상·하단 밴드 조정</li>
        </ul>
        <p>
          화면에 보이는 숫자는 “대략적인 시장 밴드 상 위치”를 가늠하기 위한 용도이며,<br />
          실제 딜에서는 구조조정, 일회성 요인, 옵션 가치, 지분 구조 등 추가 검토가 필요합니다.
        </p>
      </div>
    </section>

    <!-- Contact / CTA -->
    <section id="contact" class="ml-section">
      <div class="ml-container">
        <h2>더 정교한 밸류에이션이 필요하신가요?</h2>
        <p class="ml-section-subtitle">
          실제 M&A·투자·딜 상황에 맞는 커스텀 밸류에이션과 리포트를 제공합니다.
        </p>
        <div class="ml-contact-actions">
          <a href="mailto:your_email@example.com" class="ml-btn ml-btn-primary">
            이메일로 문의하기
          </a>
          <a href="#" class="ml-btn ml-btn-secondary">
            프로필 / 블로그 보기
          </a>
        </div>
      </div>
    </section>
  </main>

  <footer class="ml-footer">
    <div class="ml-container">
      <span>© Doohyun KIM. All rights reserved.</span>
      <span class="ml-footer-note">
        본 사이트의 계산 논리 및 룰북은 저작권법의 보호를 받습니다.
      </span>
    </div>
  </footer>

  <script src="assets/app.js"></script>
</body>
</html>
